---
title: Morse Code Parser
head: |
  <style>
    #viz { height: 600px; }
  </style>
---

<p>
  <a href="https://github.com/jbeard4/scxml-morse-code-parser">
    github.com/jbeard4/scxml-morse-code-parser</a>
</p>

<script>
  E.tabPanel([
    {
      id: 'statechartTab',
      label: "statechart",
      content: '<div id="viz"></div>'
    },
    {
      id: 'scxmlTab',
      label: "circuit-breaker.scxml",
      content: '<pre><code id="scxmlPreview" class="xml"></code></pre>'
    },
    {
      id: 'mainJsTab',
      label: "main.xml",
      content: '<pre><code id="mainJsPreview" class="javascript"></code></pre>'
    },
    {
      id: 'runShTab',
      label: "run.sh",
      content: '<pre><code id="runShPreview" class="javascript"></code></pre>'
    }
  ]);
  $.ajax({url: 'morse.scxml', dataType: 'text', success: function(src) {
    hljs.highlightBlock($('#scxmlPreview').text(src)[0]);

    var scxmlDoc = (new DOMParser()).parseFromString(src, "application/xml");
    var layout = new forceLayout.Layout({
      parent: document.getElementById('viz'),
      doc: scxmlDoc
    });
    layout.fit();
  }});
  $.ajax({url: 'main.js', dataType: 'text', success: function(mainjs) {
    hljs.highlightBlock($('#mainJsPreview').text(mainjs)[0]);
  }});
  $.ajax({url: 'run.sh', dataType: 'text', success: function(runsh) {
    hljs.highlightBlock($('#runShPreview').text(runsh)[0]);
  }});
</script>
